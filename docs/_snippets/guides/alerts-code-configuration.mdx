You can enrich your alerts by adding properties to tests, models and sources in your `.yml` files.
The supported attributes are: [owner](#Owner),
[subscribers](#Subscribers),
[description](#Test-description),
[tags](#Tags).

You can configure and customize your alerts by configuring:
[custom channel](#custom-channel),
[suppression interval](#suppression-interval),
[alert fields](#alert-fields)(for test alerts only), [alert grouping](#group-alerts-by-table),
[alert filters](#filter-alerts).

## Alert properties in `.yml` files

Elementary prioritizes configuration in the following order:

**For models / sources:**

1. Model config block.
2. Model properties.
3. Model path configuration under `models` key in `dbt_project.yml`.

**For tests:**

1. Test properties.
2. Tests path configuration under `tests` key in `dbt_project.yml`.
3. Parent model configuration.

{/* prettier-ignore */}
<pre>
  <code>
  meta:
  &nbsp;&nbsp;<a href="./alerts-code-configuration#owner"><font color="#CD7D55">owner: "@jessica.jones"</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#subscribers"><font color="#CD7D55">subscribers: ["@jessica.jones", "@joe.joseph"]</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#test-description"><font color="#CD7D55">description: "This is the test description"</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#tags"><font color="#CD7D55">tags: ["#marketing", "#data_ops"]</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#custom-channel"><font color="#CD7D55">channel: data_ops</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#suppression-interval"><font color="#CD7D55">alert_suppression_interval: 24</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#group-alerts-by-table"><font color="#CD7D55">slack_group_alerts_by: table</font></a>
  &nbsp;&nbsp;<a href="./alerts-code-configuration#alert-fields"><font color="#CD7D55">alert_fields: ["description", "owners", "tags", "subscribers", ...]</font></a>
  </code>
</pre>

### Alert content

#### Owner

<Snippet file="alerts/owner.mdx" />

#### Subscribers

<Snippet file="alerts/subscribers.mdx" />

#### Test description

<Snippet file="alerts/description.mdx" />

#### Tags

<Snippet file="alerts/tags.mdx" />

### Alerts distribution

Elementary allows you to customize alerts to distribute the right information to the right people.
This way you can ensure your alerts are valuable and avoid alert fatigue.

#### Custom channel

Elementary supports configuring custom Slack channels for models and tests.
By default, Elementary uses the Slack channel that was configured in the Slack integration. Even if
a custom channel is defined for every test, you must specify a default fallback channel, either using
the CLI or the `config.yml` file.

<CodeGroup>

```yml model
models:
  - name: my_model_name
    meta:
      channel: data_ops
```

```yml test
tests:
  - not_null:
    meta:
      channel: data_ops
```

```yml test/model config block
{{ config(
    meta={
        "channel": "data_ops"
    }
) }}
```

```yml dbt_project.yml
models:
  path:
    subfolder:
      +meta:
        channel: data_ops

tests:
  path:
    subfolder:
      +meta:
        channel: data_ops
```

</CodeGroup>

#### Suppression interval

Don’t want to get multiple alerts if the same test keeps failing?
You can now configure an `alert_suppression_interval`, this is a “snooze” period for alerts on the same issue.

The accepted value is in hours, so 1 day snooze is `alert_suppression_interval: 24`.
Elementary won't send new alerts on the same issue that are generated within suppression interval.

Note: if you configure a suppression interval using this method, it will override the value in the global configuration.

<CodeGroup>

```yml model
models:
  - name: my_model_name
    meta:
      alert_suppression_interval: 24
```

```yml test
tests:
  - not_null:
    meta:
      alert_suppression_interval: 12
```

```yml test/model config block
{{ config(
    meta={
        "alert_suppression_interval": 24
    }
) }}
```

```yml dbt_project.yml
models:
  path:
    subfolder:
      +meta:
        alert_suppression_interval: 24

tests:
  path:
    subfolder:
      +meta:
        alert_suppression_interval: 48
```

</CodeGroup>

#### Group alerts by table

By default, Elementary sends a single alert to notify on each failure with extensive information for fast triage.

Elementary also supports grouping alerts by table.
In this case, a single Slack notification will be generated containing all issues associated with this table.
The created notification will contain a union of the relevant owners, tags and subscribers.

Due to their nature, grouped alerts will contain less information on each issue.

<CodeGroup>

```yml model
models:
  - name: my_model_name
    meta:
      slack_group_alerts_by: table
```

```yml test
tests:
  - not_null:
    meta:
      slack_group_alerts_by: table
```

```yml test/model config block
{{ config(
    meta={
        "slack_group_alerts_by": "table"
    }
) }}
```

```yml dbt_project.yml
models:
  path:
    subfolder:
      +meta:
        slack_group_alerts_by: table

tests:
  path:
    subfolder:
      +meta:
        slack_group_alerts_by: table
```

</CodeGroup>

#### Alert fields

<Warning>**Currently this feature is supported only by test alerts!**</Warning>

You can decide which fields to include in the alert, and create a format of alert that fits your use case and recipients.  
By default, all the fields are included in the alert.

Supported alert fields:

- table: Displays the table name of the test
- column: Displays the column name of the test
- description: Displays the description of the test
- owners: Displays the owners of the model on which the test is running
- tags: Displays the dbt tags of the test/model
- subscribers: Displays the subscribers of the test/model
- result_message: Displays the returned message from the test result
- test_parameters: Displays the parameters that were provided to the test
- test_query: Displays the query of the test
- test_results_sample: Displays a sample of the test results

<CodeGroup>

```yml model
models:
  - name: my_model_name
    meta:
      alert_fields: ["description", "owners", "tags", "subscribers"]
```

```yml test
tests:
  - not_null:
    meta:
      alert_fields: ["description", "owners", "tags", "subscribers"]
```

```yml test/model config block
{{ config(
    meta={
        "alert_fields": "['description', 'owners', 'tags', 'subscribers']"
    }
) }}
```

```yml dbt_project.yml
models:
  path:
    subfolder:
      +meta:
        alert_fields: ["description", "owners", "tags", "subscribers"]

tests:
  path:
    subfolder:
      +meta:
        alert_fields: ["description", "owners", "tags", "subscribers"]
```

</CodeGroup>


<Warning>
  Alert vars are deprecated! We recommend filtering the alerts
  using [CLI selectors](/oss/guides/alerts/alerts-configuration#alerts-cli-flags)
  instead.
</Warning>

