---
title: 'Query history'
---

Elementary generates the lineage graph and operational information from the DWH logs.

Relying on logs enables capturing the true state in a highly accurate manner, as logs describe transformations, loads, and changes that actually happened, and whether they succeeded.

## Snowflake query and access history

The supported sources of query history in Snowflake are [information_schame.query_history](https://docs.snowflake.com/en/sql-reference/functions/query_history.html) and the _ACCOUNT USAGE_ [QUERY_HISTORY](https://docs.snowflake.com/en/sql-reference/account-usage/query_history.html) view and [ACCESS_HISTORY view](https://docs.snowflake.com/en/sql-reference/account-usage/access_history.html). The differences and required permissions are detailed on the [Snowflake integration](../integrations/snowflake) page.

## BigQuery query history

The query history in BigQuery is pulled from the [information schema](https://cloud.google.com/bigquery/docs/information-schema-intro), by accessing a view that contains [jobs metadata](https://cloud.google.com/bigquery/docs/information-schema-jobs) by project.

## Unsupported query types

**Snowflake unsupported query types:**

- Copy from statements

**Found another unsupported type?** Please let us know ([Slack](https://join.slack.com/t/elementary-community/shared_invite/zt-uehfrq2f-zXeVTtXrjYRbdE_V6xq4Rg) or [GitHub issue](https://github.com/elementary-data/elementary-lineage/issues)) and we will fix it!
